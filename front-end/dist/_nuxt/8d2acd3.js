(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{295:function(t,e,r){"use strict";r.r(e);var n=r(26),o=(r(58),r(70)),c=r.n(o),l={name:"Scheduling",props:["value"],data:function(){return{assignatures:[],assings:{},items:[]}},computed:{data:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},mounted:function(){this.getCodUser(),this.table()},methods:{getSchedule:function(code){var t={CodEst:code};return c.a.post("https://agendamientouis.herokuapp.com/usuarios/bucarMateriasEstudianteHorario",t)},getCodUser:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSchedule(t.$cookies.get("userLogged").CodEst).then((function(e){return t.assignatures=e.data}));case 2:case"end":return e.stop()}}),e)})))()},autSubmit:function(t,e,r){var body={Asistira:t,idHorMatGrp:e,idUsuario:r};return c.a.post("https://agendamientouis.herokuapp.com/agendamiento/",body)},submit:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.autSubmit(!0,t.data.schedule,t.$cookies.get("userLogged").idUsuario).then((function(e){return t.assings=e.data}));case 2:window.location.href="schedule";case 3:case"end":return e.stop()}}),e)})))()},getTable:function(t){var body={idUsuario:t};return c.a.post("https://agendamientouis.herokuapp.com/agendamiento/ReservasSemanaUsuario",body)},table:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTable(t.$cookies.get("userLogged").idUsuario).then((function(e){return t.items=e.data}));case 2:case"end":return e.stop()}}),e)})))()}}},d=r(63),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"header"},[r("h1",{staticClass:"text-s-primary text-center font-weight-light mb-5"},[t._v("\n      Agendamiento\n      "),r("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.getCodUser()))])])]),t._v(" "),r("div",{staticClass:"contain"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[r("b-row",[r("b-col",{staticClass:"col-12 col-sm-6 px-5"},[r("p",{staticClass:"text-d-primary font-weight-light"},[t._v("\n            1. Seleccion la materia\n          ")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.data.assignature,expression:"data.assignature"}],staticClass:"form-select p-1 text-s-primary font-weight-light w-100",attrs:{required:"","aria-label":"choose assignature"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"assignature",e.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:""}},[t._v("Seleccione una materia")]),t._v(" "),t._l(t.assignatures,(function(e,i){return r("option",{key:i,domProps:{value:e}},[t._v("\n              "+t._s(e.nombre)+"\n            ")])}))],2)]),t._v(" "),r("b-col",{staticClass:"col-12 col-sm-6 px-5"},[r("p",{staticClass:"text-d-primary font-weight-light"},[t._v("2. Seleccione el horario")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.data.schedule,expression:"data.schedule"}],staticClass:"form-select p-1 text-s-primary font-weight-light w-100",attrs:{required:"","aria-label":"choose schedule"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"schedule",e.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:""}},[t._v("Seleccione un horario")]),t._v(" "),t._l(t.data.assignature.horario,(function(e,i){return r("option",{key:i,domProps:{value:e.idHorMatGrp}},[t._v("\n              "+t._s(e.DiaSemana)+" "+t._s(e.Horario)+" "+t._s(e.Edificio)+" "+t._s(e.Salon)+"\n            ")])}))],2)]),t._v(" "),r("b-col",{staticClass:"col-12 px-5 my-5"},[r("p",{staticClass:"text-d-primary font-weight-light"},[t._v("3. Confirme y finalice el proceso")]),t._v(" "),r("button",{staticClass:"bg-transparent border-0 font-weight-light",staticStyle:{"font-size":"2rem"},attrs:{type:"submit"}},[r("svg",{staticClass:"bi bi-plus-circle-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"}})]),t._v("\n            Agendar\n          ")])]),t._v(" "),r("b-col",{staticClass:"col-12 my-5",staticStyle:{"overflow-x":"scroll","overflow-y":"scroll"}},[r("b-table",{attrs:{striped:"",hover:"",items:t.items}})],1),t._v(" "),r("b-col",{staticClass:"col-12 my-3 d-flex justify-content-center"},[r("nuxt-link",{attrs:{to:"/resumen"}},[r("span",{staticClass:"text-center"},[t._v("Resumen")])])],1)],1)],1)])])}),[],!1,null,"633211f1",null);e.default=component.exports}}]);