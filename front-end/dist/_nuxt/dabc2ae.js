(window.webpackJsonp=window.webpackJsonp||[]).push([[9,4],{295:function(t,e,n){"use strict";n.r(e);var r=n(26),o=(n(58),n(70)),l=n.n(o),c={name:"Scheduling",props:["value"],data:function(){return{assignatures:[],assings:{},items:[]}},computed:{data:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},mounted:function(){this.getCodUser(),this.table()},methods:{getSchedule:function(code){var t={CodEst:code};return l.a.post("https://agendamientouis.herokuapp.com/usuarios/bucarMateriasEstudianteHorario",t)},getCodUser:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSchedule(t.$cookies.get("userLogged").CodEst).then((function(e){return t.assignatures=e.data}));case 2:case"end":return e.stop()}}),e)})))()},autSubmit:function(t,e,n){var body={Asistira:t,idHorMatGrp:e,idUsuario:n};return l.a.post("https://agendamientouis.herokuapp.com/agendamiento/",body)},submit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.autSubmit(!0,t.data.schedule,t.$cookies.get("userLogged").idUsuario).then((function(e){return t.assings=e.data}));case 2:window.location.href="schedule";case 3:case"end":return e.stop()}}),e)})))()},getTable:function(t){var body={idUsuario:t};return l.a.post("https://agendamientouis.herokuapp.com/agendamiento/ReservasSemanaUsuario",body)},table:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTable(t.$cookies.get("userLogged").idUsuario).then((function(e){return t.items=e.data}));case 2:case"end":return e.stop()}}),e)})))()}}},d=n(63),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("h1",{staticClass:"text-s-primary text-center font-weight-light mb-5"},[t._v("\n      Agendamiento\n      "),n("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.getCodUser()))])])]),t._v(" "),n("div",{staticClass:"contain"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[n("b-row",[n("b-col",{staticClass:"col-12 col-sm-6 px-5"},[n("p",{staticClass:"text-d-primary font-weight-light"},[t._v("\n            1. Seleccion la materia\n          ")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.data.assignature,expression:"data.assignature"}],staticClass:"form-select p-1 text-s-primary font-weight-light w-100",attrs:{required:"","aria-label":"choose assignature"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"assignature",e.target.multiple?n:n[0])}}},[n("option",{attrs:{selected:""}},[t._v("Seleccione una materia")]),t._v(" "),t._l(t.assignatures,(function(e,i){return n("option",{key:i,domProps:{value:e}},[t._v("\n              "+t._s(e.nombre)+"\n            ")])}))],2)]),t._v(" "),n("b-col",{staticClass:"col-12 col-sm-6 px-5"},[n("p",{staticClass:"text-d-primary font-weight-light"},[t._v("2. Seleccione el horario")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.data.schedule,expression:"data.schedule"}],staticClass:"form-select p-1 text-s-primary font-weight-light w-100",attrs:{required:"","aria-label":"choose schedule"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data,"schedule",e.target.multiple?n:n[0])}}},[n("option",{attrs:{selected:""}},[t._v("Seleccione un horario")]),t._v(" "),t._l(t.data.assignature.horario,(function(e,i){return n("option",{key:i,domProps:{value:e.idHorMatGrp}},[t._v("\n              "+t._s(e.DiaSemana)+" "+t._s(e.Horario)+" "+t._s(e.Edificio)+" "+t._s(e.Salon)+"\n            ")])}))],2)]),t._v(" "),n("b-col",{staticClass:"col-12 px-5 my-5"},[n("p",{staticClass:"text-d-primary font-weight-light"},[t._v("3. Confirme y finalice el proceso")]),t._v(" "),n("button",{staticClass:"bg-transparent border-0 font-weight-light",staticStyle:{"font-size":"2rem"},attrs:{type:"submit"}},[n("svg",{staticClass:"bi bi-plus-circle-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",viewBox:"0 0 16 16"}},[n("path",{attrs:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"}})]),t._v("\n            Agendar\n          ")])]),t._v(" "),n("b-col",{staticClass:"col-12 my-5",staticStyle:{"overflow-x":"scroll","overflow-y":"scroll"}},[n("b-table",{attrs:{striped:"",hover:"",items:t.items}})],1),t._v(" "),n("b-col",{staticClass:"col-12 my-3 d-flex justify-content-center"},[n("nuxt-link",{attrs:{to:"/resumen"}},[n("span",{staticClass:"text-center"},[t._v("Resumen")])])],1)],1)],1)])])}),[],!1,null,"633211f1",null);e.default=component.exports},307:function(t,e,n){"use strict";n.r(e);var r={name:"Schedule",data:function(){return{payload:{assignature:{}}}}},o=n(63),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("scheduling",{model:{value:t.payload,callback:function(e){t.payload=e},expression:"payload"}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Scheduling:n(295).default})}}]);